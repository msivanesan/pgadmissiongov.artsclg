{% extends "admin/base.html" %}

{% block extrastyle %}
<style>
    #loading {
        display: none; /* Hidden by default */
        position: fixed;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0,0,0,0.5); /* Black with a bit of opacity */
        z-index: 2;
        cursor: pointer;
        text-align: center;
    }

    #loading img {
        position: relative;
        top: 50%;
        transform: translateY(-50%);
    }
</style>
{% endblock %}

{% block content %}
<div id="loading">
    <img src="https://loading.io/spinners/double-ring/lg.double-ring-spinner.gif" alt="Loading...">

</div>

<form action="" method="post" enctype="multipart/form-data" id="uploadForm">
    {% csrf_token %}
    <input type="file" name="datafile" id="import_file">
    <button type="submit">Upload</button>
</form>

<script>
document.getElementById('uploadForm').onsubmit = function() {
    document.getElementById('loading').style.display = 'block';
};
</script>
{% endblock %}
